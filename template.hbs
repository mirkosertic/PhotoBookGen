<html>
    <head>
        <title>{{gallery.title}} {{navigation.index}} / {{navigation.size}}</title>
{{#if navigation.nextLink}}        <link rel="prerender" href="{{navigation.nextLink}}">{{/if}}
        <style>
            body {
                background-color: black;
                margin: 0;
                padding: 0;
                font-family: Verdana, Geneva, sans-serif;
            }

            div {
                display: grid;
                grid-template-columns: 1fr 6fr 1fr 1rem;
                grid-template-rows: 2rem 1fr 1fr 1fr 1fr 2rem;
                grid-gap: 1rem;
                width: 100%;
                height: 100%;
                position: absolute;
                top: 0;
                left: 0;
                overflow: hidden;
                box-sizing: border-box;
                padding: 1rem;
            }

            header {
                box-sizing: border-box;
                grid-row: 1;
                grid-column-start: 1;
                grid-column-end: 5;
                color: white;
                text-align: center;
                padding: 1rem;
            }

            footer {
                box-sizing: border-box;
                grid-row: 6;
                grid-column-start: 1;
                grid-column-end: 5;
                color: white;
                text-align: center;
                font-size: 1.2rem;
                padding-top: 1rem;
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
            }

            picture {
                overflow: hidden;
                width: 100%;
                height: 100%;
                max-height: 100%;
                background-color: white;
                box-sizing: border-box;
                border: 0.3rem solid white;
                display: inline-block;
                position: relative;
            }

            figcaption {
                position: relative;
                bottom: 5rem;
                color: black;
                background-color: rgba(255, 255, 255, 0.6);
                display: block;
                padding: 0.4rem 0.4rem 0.4rem 0.4rem;
                font-weight: bold;
                font-size: 1.5rem;
            }

            picture:hover > img {
                transform: scale(1.1);
                filter: none;
            }

            picture > img {
                object-fit: cover;
                object-position: 50% 15%;
                width: 100%;
                height: 100%;
                max-height: 100%;
                transition: transform 1s;
                filter: brightness(50%);
            }

            .nofilter {
                filter: none;
            }

            picture:nth-child(1) {
                grid-column: 2;
                grid-row-start: 2;
                grid-row-end: 6;
            }

            a.prev_3 {
                grid-column: 1;
                grid-row: 2;
                transform: rotate(3deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.prev_2 {
                grid-column: 1;
                grid-row: 3;
                transform: rotate(-5deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.prev_1 {
                grid-column: 1;
                grid-row: 4;
                transform: rotate(3deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.prev_0 {
                grid-column: 1;
                grid-row: 5;
                transform: rotate(-5deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.next_0 {
                grid-column: 3;
                grid-row: 2;
                transform: rotate(-3deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.next_1 {
                grid-column: 3;
                grid-row: 3;
                transform: rotate(3deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.next_2 {
                grid-column: 3;
                grid-row: 4;
                transform: rotate(-6deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            a.next_3 {
                grid-column: 3;
                grid-row: 5;
                transform: rotate(4deg);
                width: 100%;
                height: 100%;
                max-height: 100%;
            }

            footer > span {
                padding-left: 2rem;
                padding-right: 2rem;
            }

            img.download {
                padding-right: 2rem;
            }

            img.icon {
                width: 1.5rem;
                height: 1.5rem;
                transition: transform 1s;
            }

            img.icon:hover {
                transform: scale(1.3);
            }
        </style>
    </head>
    <body>
        <div>
            <picture>
                <source srcset="{{current.imageWebP}}" type="image/webp" >
                <source srcset="{{current.imageJPEG}}" type="image/jpeg" >
                <img src="{{current.imageJPEG}}" class="nofilter">
                {{#if current.caption}}
                <figcaption>{{current.caption.title}}</figcaption>
                {{/if}}
            </picture>
            {{#each prev}}
            <a href="{{link}}" class="prev_{{@index}}">
                <picture>
                    <source srcset="{{imageWebP}}" type="image/webp" >
                    <source srcset="{{imageJPEG}}" type="image/jpeg" >
                    <img src="{{imageJPEG}}">
                </picture>
            </a>
            {{/each}}
            {{#each next}}
            <a href="{{link}}" class="next_{{@index}}">
                <picture>
                    <source srcset="{{imageWebP}}" type="image/webp" >
                    <source srcset="{{imageJPEG}}" type="image/jpeg" >
                    <img src="{{imageJPEG}}">
                </picture>
            </a>
            {{/each}}
            <header>{{gallery.title}}</header>
            <footer>
                <img class="icon download" src="download.png" href="images.zip">
                {{#if navigation.prevLink}}<a href="{{navigation.prevLink}}"><img class="icon" src="angle-left.png"></a>{{/if}}<span>{{navigation.index}} / {{navigation.size}}</span>{{#if navigation.nextLink}}<a href="{{navigation.nextLink}}"><img class="icon" src="angle-right.png"></a>{{/if}}
            </footer>
        </div>
    </body>
</html>